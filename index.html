<!doctype html>
<html lang="zh-EN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Flight Video of Shawn</title>
  <style>
    :root { --maxw:1200px; --shadow:0 4px 12px rgba(0,0,0,0.1); }
    * { box-sizing:border-box; margin:0; padding:0; }
    body { font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:#f5f5f5; color:#111; }
    header { padding:24px 16px; text-align:center; background:#111; color:#fff; }
    header h1 { font-size:26px; letter-spacing:.5px; }
    main { max-width:var(--maxw); margin:24px auto; padding:0 16px; }
    .grid { display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); }
    .card { position:relative; overflow:hidden; border-radius:14px; box-shadow:var(--shadow); background:#000; transition:transform .2s, box-shadow .2s; cursor:pointer; }
    .card:hover { transform:translateY(-4px); box-shadow:0 10px 24px rgba(0,0,0,0.22); }
    .thumb { position:relative; aspect-ratio:16/9; overflow:hidden; }
    .thumb img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; background:#000; }
    .play-badge { position:absolute; left:12px; bottom:12px; background:rgba(0,0,0,.55); color:#fff; font-size:13px; padding:6px 10px; border-radius:999px; pointer-events:none; }
    figcaption { padding:10px 12px 14px; font-size:13px; color:#666; background:#fff; }
    footer { text-align:center; padding:20px; font-size:14px; color:#666; }
    .lightbox { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.88); justify-content:center; align-items:center; z-index:1000; }
    .lightbox-content { position:relative; width:min(92vw, 960px); aspect-ratio:16/9; }
    .lightbox iframe { position:absolute; inset:0; width:100%; height:100%; border:none; background:#000; }
    .lightbox-close { position:absolute; top:-44px; right:0; font-size:32px; color:#fff; cursor:pointer; }
    .about-btn {
      display:inline-block;
      margin-top:8px;
      padding:8px 14px;
      background:#0a66c2;
      color:#fff;
      border-radius:8px;
      text-decoration:none;
      font-size:14px;
      transition:background .2s;
    }
    .about-btn:hover { background:#004182; }

    /* 点赞按钮样式 */
    .like-box {
      margin:30px 0;
      text-align:center;
      font-size:18px;
      display:flex;
      justify-content:center;
      align-items:center;
      gap:12px;
    }
    .like-btn {
      width:50px;
      height:50px;
      border-radius:50%;
      border:none;
      background:#1877f2; /* 蓝色 */
      display:flex;
      justify-content:center;
      align-items:center;
      cursor:pointer;
      transition:background .2s;
    }
    .like-btn:hover { background:#0f5dc1; }
    .like-btn svg {
      width:26px;
      height:26px;
      fill:#fff;
    }
  </style>
</head>
<body>
  <header><h1>The Flight Video of Shawn</h1></header>

  <main>
    <section class="grid">
      <figure class="card" data-type="vimeo" data-src="https://player.vimeo.com/video/1111634878">
        <div class="thumb">
          <img src="https://i.imgur.com/3fQty8V.jpeg" alt="Cover 1" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
    
      <figure class="card" data-type="vimeo" data-src="https://player.vimeo.com/video/1110632369">
        <div class="thumb">
          <img src="https://i.imgur.com/w4nz2QB.jpeg" alt="Cover 2" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
    
      <figure class="card" data-type="vimeo" data-src="https://player.vimeo.com/video/1115051579">
        <div class="thumb">
          <img src="https://i.imgur.com/DCBXara.png" alt="Cover 3" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
    
      <figure class="card" data-type="vimeo" data-src="https://player.vimeo.com/video/1115051720">
        <div class="thumb">
          <img src="https://i.imgur.com/GuUd8SF.jpeg" alt="Cover 4" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
    
      <figure class="card" data-type="vimeo" data-src="https://player.vimeo.com/video/1115051841">
        <div class="thumb">
          <img src="https://i.imgur.com/Bgh3HCv.jpeg" alt="Cover 5" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
    </section>

    <!-- 点赞区域 -->
    <div class="like-box">
      <button id="likeBtn" class="like-btn">
        <!-- 干净版点赞图标 -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M9 22h9a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-6V7a2 2 0 0 0-2-2H9v17zM7 22H4V9h3v13z"/>
        </svg>
      </button>
      <span id="likeCount">0</span>
    </div>
  </main>

  <footer>
    © 2025 | Vimeo · Imgur <br>
    <a href="mailto:shawnzhao0518@gmail.com">shawnzhao0518@gmail.com</a><br>
    <a href="https://about-shawn-ssfa.vercel.app" target="_blank" class="about-btn">About Shawn</a>
  </footer>
  
  <div class="lightbox" id="lightbox">
    <div class="lightbox-content">
      <span class="lightbox-close" id="lightbox-close">&times;</span>
      <iframe id="vimeoFrame" allow="autoplay; fullscreen" allowfullscreen loading="lazy"></iframe>
    </div>
  </div>

  <!-- Firebase 点赞功能 -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

    // 你的 Firebase 配置
    const firebaseConfig = {
      apiKey: "AIzaSyAfq8l-Ndd72wV_oce4_efqI3x5NbAuXNY",
      authDomain: "flyshawn-342cd.firebaseapp.com",
      projectId: "flyshawn-342cd",
      storageBucket: "flyshawn-342cd.firebasestorage.app",
      messagingSenderId: "656513393404",
      appId: "1:656513393404:web:c537f1043ded32d5752d79",
      measurementId: "G-V0YSZ10XN2"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");
    const likeRef = doc(db, "likes", "video1");

    // 读取点赞数
    async function loadLikes() {
      const snap = await getDoc(likeRef);
      if (snap.exists()) {
        likeCount.textContent = snap.data().count;
      } else {
        await setDoc(likeRef, { count: 0 });
        likeCount.textContent = 0;
      }
    }
    loadLikes();

    // 点赞 +1
    likeBtn.addEventListener("click", async () => {
      await updateDoc(likeRef, { count: increment(1) });
      const snap = await getDoc(likeRef);
      likeCount.textContent = snap.data().count;
    });
  </script>

  <!-- Vimeo 弹窗逻辑 -->
  <script>
    const cards = document.querySelectorAll('.card');
    const lightbox = document.getElementById('lightbox');
    const closeBtn = document.getElementById('lightbox-close');
    const vimeoFrame = document.getElementById('vimeoFrame');

    cards.forEach(card => {
      card.addEventListener('click', () => {
        const src = card.getAttribute('data-src');
        const url = src + (src.includes('?') ? '&' : '?') + 'autoplay=1';
        vimeoFrame.src = url;
        lightbox.style.display = 'flex';
      });
    });

    function closeLightbox() {
      lightbox.style.display = 'none';
      vimeoFrame.src = '';
    }
    closeBtn.addEventListener('click', closeLightbox);
    window.addEventListener('click', e => { if (e.target === lightbox) closeLightbox(); });
  </script>
</body>
</html>
