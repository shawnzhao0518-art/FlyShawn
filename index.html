<!doctype html>
<html lang="zh-EN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Flight Video of Shawn</title>
  <style>
    :root { --maxw:1200px; --shadow:0 4px 12px rgba(0,0,0,0.1); }
    * { box-sizing:border-box; margin:0; padding:0; }
    body { font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:#f5f5f5; color:#111; }

    /* Header */
    header { padding:16px; background:#111; color:#fff; }
    .header-wrap {
      max-width: var(--maxw);
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }
    header h1 { font-size:24px; margin:0; }
    #map-header {
      width: 300px;
      height: 100px;
      border-radius: 8px;
      box-shadow: var(--shadow);
    }

    /* 视频卡片 */
    main { max-width:var(--maxw); margin:24px auto; padding:0 16px; }
    .grid { display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); }
    .card { position:relative; overflow:hidden; border-radius:14px; box-shadow:var(--shadow); background:#000; transition:transform .2s, box-shadow .2s; cursor:pointer; }
    .card:hover { transform:translateY(-4px); box-shadow:0 10px 24px rgba(0,0,0,0.22); }
    .thumb { position:relative; aspect-ratio:16/9; overflow:hidden; }
    .thumb img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; background:#000; }
    .play-badge { position:absolute; left:12px; bottom:12px; background:rgba(0,0,0,.55); color:#fff; font-size:13px; padding:6px 10px; border-radius:999px; pointer-events:none; }
    figcaption { padding:10px 12px 14px; font-size:13px; color:#666; background:#fff; }

    /* Footer */
    footer { text-align:center; padding:20px; font-size:14px; color:#666; }
    .about-btn {
      display:inline-block;
      margin-top:8px;
      padding:8px 14px;
      background:#0a66c2;
      color:#fff;
      border-radius:8px;
      text-decoration:none;
      font-size:14px;
      transition:background .2s;
    }
    .about-btn:hover { background:#004182; }

    /* Lightbox */
    .lightbox { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.88); justify-content:center; align-items:center; z-index:1000; }
    .lightbox-content { position:relative; width:min(92vw, 960px); aspect-ratio:16/9; }
    .lightbox iframe { position:absolute; inset:0; width:100%; height:100%; border:none; background:#000; }
    .lightbox-close { position:absolute; top:-44px; right:0; font-size:32px; color:#fff; cursor:pointer; }
  </style>
</head>
<body>
  <!-- 顶部：标题 + 小地图 -->
  <header>
    <div class="header-wrap">
      <h1>The Flight Video of Shawn</h1>
      <div id="map-header"></div>
    </div>
  </header>

  <!-- 视频卡片 -->
  <main>
    <section class="grid">
      <figure class="card" data-src="https://player.vimeo.com/video/1111634878">
        <div class="thumb">
          <img src="https://i.imgur.com/3fQty8V.jpeg" alt="Cover 1" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
      <figure class="card" data-src="https://player.vimeo.com/video/1110632369">
        <div class="thumb">
          <img src="https://i.imgur.com/w4nz2QB.jpeg" alt="Cover 2" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
      <figure class="card" data-src="https://player.vimeo.com/video/1115051579">
        <div class="thumb">
          <img src="https://i.imgur.com/DCBXara.png" alt="Cover 3" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
      <figure class="card" data-src="https://player.vimeo.com/video/1115051720">
        <div class="thumb">
          <img src="https://i.imgur.com/GuUd8SF.jpeg" alt="Cover 4" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
      <figure class="card" data-src="https://player.vimeo.com/video/1115051841">
        <div class="thumb">
          <img src="https://i.imgur.com/Bgh3HCv.jpeg" alt="Cover 5" loading="lazy">
          <span class="play-badge">▶ PLAY</span>
        </div>
        <figcaption>Avata 2</figcaption>
      </figure>
    </section>
  </main>

  <!-- 底部 -->
  <footer>
    © 2025 | Vimeo · Imgur <br>
    <a href="mailto:shawnzhao0518@gmail.com">shawnzhao0518@gmail.com</a><br>
    <a href="https://about-shawn-ssfa.vercel.app" target="_blank" class="about-btn">About Shawn</a>
  </footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <div class="lightbox-content">
      <span class="lightbox-close" id="lightbox-close">&times;</span>
      <iframe id="vimeoFrame" allow="autoplay; fullscreen" allowfullscreen loading="lazy"></iframe>
    </div>
  </div>

  <!-- JS 逻辑 -->
  <script>
    // Lightbox 打开/关闭
    function openLightboxWith(url) {
      const lb = document.getElementById('lightbox');
      const frame = document.getElementById('vimeoFrame');
      const playUrl = url + (url.includes('?') ? '&' : '?') + 'autoplay=1';
      frame.src = playUrl;
      lb.style.display = 'flex';
    }
    function closeLightbox() {
      const lb = document.getElementById('lightbox');
      const frame = document.getElementById('vimeoFrame');
      lb.style.display = 'none';
      frame.src = '';
    }
    document.querySelectorAll('.card').forEach(card => {
      card.addEventListener('click', () => {
        const src = card.getAttribute('data-src');
        if (src) openLightboxWith(src);
      });
    });
    document.getElementById('lightbox-close').addEventListener('click', closeLightbox);
    window.addEventListener('click', e => { if (e.target.id === 'lightbox') closeLightbox(); });

    // 地图逻辑：同一坐标可有多个视频
    function initMap() {
      const map = new google.maps.Map(document.getElementById("map-header"), {
        zoom: 11,
        center: { lat: -33.9, lng: 151.2 },
      });

      const locations = [
        {
          lat: -33.7890416, lng: 151.0104213, title: "Parramatta Lake Walk",
          videos: [
            { title: "Avata 2", img: "https://i.imgur.com/3fQty8V.jpeg", url: "https://player.vimeo.com/video/1111634878" }
          ]
        },
        {
          lat: -34.0170707, lng: 151.2308465, title: "Cape Solander",
          videos: [
            { title: "Avata 2", img: "https://i.imgur.com/w4nz2QB.jpeg", url: "https://player.vimeo.com/video/1110632369" }
          ]
        },
        {
          lat: -33.78807, lng: 151.00379, title: "Hazel Ryan Oval",
          videos: [
            { title: "Avata 2", img: "https://i.imgur.com/DCBXara.png", url: "https://player.vimeo.com/video/1115051579" },
            { title: "Avata 2", img: "https://i.imgur.com/Bgh3HCv.jpeg", url: "https://player.vimeo.com/video/1115051841" }
          ]
        },
        {
          lat: -33.8360157, lng: 151.0755723, title: "Bay Marker, Wentworth Point",
          videos: [
            { title: "Avata 2", img: "https://i.imgur.com/GuUd8SF.jpeg", url: "https://player.vimeo.com/video/1115051720" }
          ]
        }
      ];

      locations.forEach(loc => {
        const marker = new google.maps.Marker({
          position: { lat: loc.lat, lng: loc.lng },
          map,
          title: loc.title,
        });

        const html = `
          <div style="max-width:220px;">
            <h3>${loc.title}</h3>
            ${loc.videos.map(v => `
              <div style="margin-bottom:10px;">
                <img src="${v.img}" style="width:100%;border-radius:6px;" />
                <a href="#" onclick="openLightboxWith('${v.url}');return false;">▶ ${v.title}</a>
              </div>
            `).join('')}
          </div>
        `;
        const iw = new google.maps.InfoWindow({ content: html });

        marker.addListener("click", () => {
          iw.open(map, marker);
        });
      });
    }
    window.initMap = initMap;
  </script>

  <!-- Google Maps API -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap" async defer></script>
</body>
</html>
